<%- include('../partials/header') %>
<h2><%= product && product._id ? 'Edit Product' : 'Add Product' %></h2>

<form method="post" action="/products/create">
  <input type="hidden" name="id" value="<%= product._id || '' %>">
  <input type="text" name="name" placeholder="Product Name" value="<%= product.name || '' %>" required><br>
  <input type="number" step="0.01" name="price" placeholder="Price" value="<%= product.price || '' %>" required><br>
  <input type="number" name="quantity" placeholder="Quantity" value="<%= product.quantity || '' %>" required><br>
  <select name="supplier" required>
    <option value="">Select Supplier</option>
    <% suppliers.forEach(s => { %>
      <option value="<%= s._id %>" <%= product.supplier && product.supplier.toString() === s._id.toString() ? 'selected' : '' %>><%= s.name %></option>
    <% }) %>
  </select><br>
  <button type="submit">Save</button>
</form>
